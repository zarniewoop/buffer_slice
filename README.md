buffer_slice function from mean book
